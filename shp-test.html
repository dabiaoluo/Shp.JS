<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US-x-Hixie">
<head>
	<meta charset="utf-8"/>
	<title>Shapefile-JS demo</title>
	
	<script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.6"></script>
	<!--<script src="http://code.jquery.com/jquery-latest.js"> </script>  -->
	<script src="jquery-latest.js"> </script>
	
	<script type="text/javascript" src="BlobBuilder.js"></script>
	<script type="text/javascript" src="FileSaver.js"></script>
	
	<script type="text/javascript" src="jszip.js"></script>
	<script type="text/javascript" src="jszip-deflate.js"></script>
	
	<script type="text/javascript" src="ZipFile.js"></script>
	<script type="text/javascript" src="deflate.js"></script>
	
	<script type="text/javascript" src="core.js"></script>
	<script type="text/javascript" src="constants.js"></script>
	<script type="text/javascript" src="base64util.js"></script>
	
	<script type="text/javascript" src="shp-writer.js"></script>
	<script type="text/javascript" src="shx-writer.js"></script>
	<script type="text/javascript" src="dbf-writer.js"></script>
	
	<script type="text/javascript" src="wkt-strings.js"></script>
	<script type="text/javascript" src="test-data.js"></script>
	
	<script type="text/javascript" src="shp-reader.js"></script>
	<script type="text/javascript" src="shx-reader.js"></script>
	<script type="text/javascript" src="dbf-reader.js"></script>
	<script type="text/javascript" src="prj-reader.js"></script>
</head>
<body>
	<button onclick="testShpWrite('points', ShpJS.Data.points);">Write Test - Points</button>
	<button onclick="testShpWrite('multipoints', ShpJS.Data.multipoints);">Write Test - Multipoints</button>
	<button onclick="testShpWrite('polylines', ShpJS.Data.polylines);">Write Test - Polylines</button>
	<button onclick="testShpWrite('polygons', ShpJS.Data.polygons);">Write Test - Polygons</button>
	<br/><br/>
	<input type="file" id="files" name="files" onChange="testShpRead(event);" />

	<script type="text/javascript">
		function testShpWrite(name, data) {
			var shpWriter = new ShpJS.ShpWriter();
			shpWriter.write(data);
			shpWriter.save(name);
		}
		
		function testShpRead(evt) {
			var files = evt.target.files;
			var file = files[0];
		
			var shpReader = new ShpJS.ShpReader();
			shpReader.onparsecomplete = function(features) {
			};
			shpReader.read(file);
		}
	</script>
</body>
</html>